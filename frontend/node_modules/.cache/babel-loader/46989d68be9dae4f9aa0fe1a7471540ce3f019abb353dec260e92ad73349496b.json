{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ContactForm=_ref=>{let{addContact}=_ref;const[name,setName]=useState('');const[phone,setPhone]=useState('');const[email,setEmail]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const handleSubmit=async e=>{e.preventDefault();const newContact={name,phone,email};try{const response=await axios.post('http://localhost:8500/api/contacts',newContact);addContact(response.data);setSuccess('Contact added successfully!');setName('');setPhone('');setEmail('');setError('');// Clear error on successful submission\n}catch(error){console.error('Error adding contact:',error);setError('Failed to add contact. Please try again.');// Use setError here\n}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Contact\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Phone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:phone,onChange:e=>setPhone(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Contact\"}),success&&/*#__PURE__*/_jsx(\"p\",{children:success}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),\" \"]})]});};export default ContactForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ContactForm","_ref","addContact","name","setName","phone","setPhone","email","setEmail","error","setError","success","setSuccess","handleSubmit","e","preventDefault","newContact","response","post","data","console","children","onSubmit","type","value","onChange","target","required","style","color"],"sources":["/Users/curtisrafiei/Desktop/Phone-book-finder/frontend/src/components/ContactForm.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst ContactForm = ({ addContact }) => {\n    const [name, setName] = useState('');\n    const [phone, setPhone] = useState('');\n    const [email, setEmail] = useState('');\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n\n        const newContact = { name, phone, email };\n\n        try {\n            const response = await axios.post('http://localhost:8500/api/contacts', newContact);\n            addContact(response.data);\n            setSuccess('Contact added successfully!');\n            setName('');\n            setPhone('');\n            setEmail('');\n            setError(''); // Clear error on successful submission\n        } catch (error) {\n            console.error('Error adding contact:', error);\n            setError('Failed to add contact. Please try again.'); // Use setError here\n        }\n    };\n\n    return (\n        <div>\n            <h2>Add Contact</h2>\n            <form onSubmit={handleSubmit}>\n                <div>\n                    <label>Name:</label>\n                    <input\n                        type=\"text\"\n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                        required\n                    />\n                </div>\n                <div>\n                    <label>Phone:</label>\n                    <input\n                        type=\"text\"\n                        value={phone}\n                        onChange={(e) => setPhone(e.target.value)}\n                        required\n                    />\n                </div>\n                <div>\n                    <label>Email:</label>\n                    <input\n                        type=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        required\n                    />\n                </div>\n                <button type=\"submit\">Add Contact</button>\n\n                {/* Success and error messages */}\n                {success && <p>{success}</p>}\n                {error && <p style={{ color: 'red' }}>{error}</p>} {/* Display error message */}\n            </form>\n        </div>\n    );\n};\n\nexport default ContactForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}